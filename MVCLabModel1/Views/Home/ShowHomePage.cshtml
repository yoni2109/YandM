@model YandM.Models.ProductsVM
@using YandM.Models
@{
    ViewBag.Title = "Welcome to Y&M pet shop";
    if(ViewBag.succeded != null)
    {
       <div>
           $(document).ready(Function (){alert('@ViewBag.succeded');});
       </div>
       <div>ViewBag.succeded</div>
        ViewBag.succeded = null;
    }
}

<script src="~/Scripts/jquery-3.2.1.js"></script>
<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>

<head>
    <style>
        .grid-container {
            display: grid;
            grid-template-columns: auto auto auto;
            grid-gap: 50px 50px;
            background-color: white;
            padding: 50px;
        }

        .grid-item {
            background-color: rgba(255, 255, 255, 0.8);
            border: 0.5px solid rgba(0, 0, 0, 0.8);
            padding: 10px;
            font-size: 30px;
            text-align: center;
        }
    </style>
</head>
<body> 
    <div>
    <div id="status"></div>
    <h2>Hilights</h2>
    <h1>@ViewBag.str</h1>
    <div id="pGrid" class="grid-container">
        @if (Model != null && Model.products_list != null)
            {   int i=0;
                foreach (Products x in Model.products_list)
                {
                        <div class="grid-item">
                        <form method="post" action=@Url.Action("placeOrder","Home")>
                            <input type="hidden" name="pid" value=@x.productId>
                            <div>@x.product_name</div>
                            <img src=@x.img_url
                                 width="150" height="150" />
                            <div>@x.price $</div>
                            <input id="Button1" type="submit" value="Buy Now" onclick="return confirm('do you want to place order ?')"/>
                        </form>
                        </div>
                    i++;
                }
            }
        </div>
       
        @*<script language="javascript">
            $("#status").text("Loading");
            $.get("GetproductsJson", null, BindProducts);
            function BindProducts(products) {

                var div = $("#pGrid");
                for (i = 0; i < products.length; i++) {
                    var newitem = "<div class=\"grid-item\">"
                        + "<form method=\"post\"action=" +@Url.Action("placeOrder", "Home") +">"
                        + "<input type=\"hidden\" name=\"pid\" value=" + products[i].productId + ">"
                        + "<div>" + products[i].product_name + "</div>"
                        + "<img src=" + products[i].img_url + "width=\"150\" height=\"150\" />"
                        + "<div>" + products[i].price + " $</div>"
                        + "<input id=\"Button1\" type=\"submit\" value=\"Buy Now\" onclick = \"return  confirm('do you want to place order ?')\" />"
                        + "</form>"
                        + "</div>";
                    div.append(newitem);
                }
                $("#status").text("LOADING");


            }
        </script>*@
    
    </div>
</body>
